diff --git a/integration/mediation-tests/tests-mediator-2/src/test/java/org/wso2/carbon/esb/message/processor/test/MessageProcessorWithFaultDeactivateSeqTestCase.java b/integration/mediation-tests/tests-mediator-2/src/test/java/org/wso2/carbon/esb/message/processor/test/MessageProcessorWithFaultDeactivateSeqTestCase.java
new file mode 100644
index 000000000..a19020b15
--- /dev/null
+++ b/integration/mediation-tests/tests-mediator-2/src/test/java/org/wso2/carbon/esb/message/processor/test/MessageProcessorWithFaultDeactivateSeqTestCase.java
@@ -0,0 +1,89 @@
+/*
+ *Copyright (c) 2021, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.
+ *
+ *WSO2 Inc. licenses this file to you under the Apache License,
+ *Version 2.0 (the "License"); you may not use this file except
+ *in compliance with the License.
+ *You may obtain a copy of the License at
+ *
+ *http://www.apache.org/licenses/LICENSE-2.0
+ *
+ *Unless required by applicable law or agreed to in writing,
+ *software distributed under the License is distributed on an
+ *"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+ *KIND, either express or implied.  See the License for the
+ *specific language governing permissions and limitations
+ *under the License.
+ */
+
+package org.wso2.carbon.esb.message.processor.test;
+
+import org.apache.http.HttpResponse;
+import org.apache.synapse.SynapseException;
+import org.awaitility.Awaitility;
+import org.testng.Assert;
+import org.testng.annotations.AfterClass;
+import org.testng.annotations.BeforeClass;
+import org.testng.annotations.Test;
+import org.wso2.esb.integration.common.utils.ESBIntegrationTest;
+import org.wso2.esb.integration.common.utils.clients.SimpleHttpClient;
+
+import java.io.IOException;
+import java.util.HashMap;
+import java.util.Map;
+import java.util.concurrent.TimeUnit;
+
+public class MessageProcessorWithFaultDeactivateSeqTestCase extends ESBIntegrationTest {
+
+    private final String PROCESSOR_NAME = "mspDeactivateIfDeactivateSeqFailsMessageProcessor";
+    private final String PROXY_NAME = "mspDeactivateIfDeactivateSeqFailsProxy";
+
+    private String proxyURL;
+
+    @BeforeClass(alwaysRun = true, description = "Test Car with Mediator deployment")
+    protected void setup() throws Exception {
+        super.init();
+        proxyURL = getProxyServiceURLHttp(PROXY_NAME);
+    }
+
+    /**
+     * Verify de-activation of Message Processor when exception is thrown inside deactivate sequence.
+     *
+     * @throws Exception
+     */
+    @Test(groups = {"wso2.esb"}, description = "Test de-activation of Message Processor when exception is thrown " +
+            "inside deactivate sequence.")
+    public void testMPGettingDeactivatedIfDeactivateSeqFails() throws Exception {
+        SimpleHttpClient simpleHttpClient = new SimpleHttpClient();
+        simpleHttpClient.doGet(proxyURL, null);
+        Thread.sleep(10000);
+        checkMessageProcessorState();
+    }
+
+    private void checkMessageProcessorState() {
+        if (!isManagementApiAvailable) {
+            Awaitility.await().pollInterval(50, TimeUnit.MILLISECONDS).atMost(DEFAULT_TIMEOUT, TimeUnit.SECONDS).
+                    until(isManagementApiAvailable());
+        }
+        try {
+            SimpleHttpClient client = new SimpleHttpClient();
+            Map<String, String> headers = new HashMap<>();
+            headers.put("Accept", "application/json");
+
+            String endpoint = "https://" + hostName + ":" + (DEFAULT_INTERNAL_API_HTTPS_PORT + portOffset)
+                    + "/management/message-processors?name=" + PROCESSOR_NAME;
+
+            HttpResponse response = client.doGet(endpoint, headers);
+            Assert.assertTrue(client.getResponsePayload(response).contains("\"status\":\"inactive\""),
+                    "Message processor should be inactive when exception is thrown inside deactivate sequence.");
+        } catch (IOException e) {
+            throw new SynapseException("Error retrieving details of the message processor " + PROCESSOR_NAME
+                    + " using Management API", e);
+        }
+    }
+
+    @AfterClass(alwaysRun = true)
+    public void cleanState() throws Exception {
+        super.cleanup();
+    }
+}
diff --git a/integration/mediation-tests/tests-mediator-2/src/test/resources/artifacts/ESB/server/repository/deployment/server/synapse-configs/default/endpoints/Master_EndPoint.xml b/integration/mediation-tests/tests-mediator-2/src/test/resources/artifacts/ESB/server/repository/deployment/server/synapse-configs/default/endpoints/Master_EndPoint.xml
new file mode 100644
index 000000000..5e687a1ba
--- /dev/null
+++ b/integration/mediation-tests/tests-mediator-2/src/test/resources/artifacts/ESB/server/repository/deployment/server/synapse-configs/default/endpoints/Master_EndPoint.xml
@@ -0,0 +1,19 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<endpoint name="Master_EndPoint" xmlns="http://ws.apache.org/ns/synapse">
+    <http method="post" uri-template="http://localhost:8290/api/non-existing-1">
+    <timeout>
+            <duration>30000</duration>
+            <responseAction>fault</responseAction>
+        </timeout>
+        <suspendOnFailure>
+            <errorCodes>-1</errorCodes>
+            <initialDuration>0</initialDuration>
+            <progressionFactor>1.0</progressionFactor>
+            <maximumDuration>0</maximumDuration>
+        </suspendOnFailure>
+        <markForSuspension>
+            <errorCodes>-1</errorCodes>
+            <retriesBeforeSuspension>0</retriesBeforeSuspension>
+        </markForSuspension>
+    </http>
+</endpoint>
diff --git a/integration/mediation-tests/tests-mediator-2/src/test/resources/artifacts/ESB/server/repository/deployment/server/synapse-configs/default/message-processors/mspDeactivateIfDeactivateSeqFailsMessageProcessor.xml b/integration/mediation-tests/tests-mediator-2/src/test/resources/artifacts/ESB/server/repository/deployment/server/synapse-configs/default/message-processors/mspDeactivateIfDeactivateSeqFailsMessageProcessor.xml
new file mode 100644
index 000000000..5e37b3d77
--- /dev/null
+++ b/integration/mediation-tests/tests-mediator-2/src/test/resources/artifacts/ESB/server/repository/deployment/server/synapse-configs/default/message-processors/mspDeactivateIfDeactivateSeqFailsMessageProcessor.xml
@@ -0,0 +1,16 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<messageProcessor xmlns="http://ws.apache.org/ns/synapse"
+              class="org.apache.synapse.message.processor.impl.forwarder.ScheduledMessageForwardingProcessor"
+              name="mspDeactivateIfDeactivateSeqFailsMessageProcessor" messageStore="mspDeactivateIfDeactivateSeqFailsMessageStore"
+              targetEndpoint="Master_EndPoint">
+        <parameter name="client.retry.interval">1000</parameter>
+        <parameter name="max.delivery.attempts">2</parameter>
+        <parameter name="member.count">1</parameter>
+        <parameter name="message.processor.reply.sequence">MasterReplySeq</parameter>
+        <parameter name="store.connection.retry.interval">1000</parameter>
+        <parameter name="max.store.connection.attempts">-1</parameter>
+        <parameter name="max.delivery.drop">Disabled</parameter>
+        <parameter name="interval">500</parameter>
+        <parameter name="message.processor.deactivate.sequence">MessageProcessorDeactivateSeq</parameter>
+        <parameter name="is.active">true</parameter>
+</messageProcessor>
diff --git a/integration/mediation-tests/tests-mediator-2/src/test/resources/artifacts/ESB/server/repository/deployment/server/synapse-configs/default/message-stores/mspDeactivateIfDeactivateSeqFailsMessageStore.xml b/integration/mediation-tests/tests-mediator-2/src/test/resources/artifacts/ESB/server/repository/deployment/server/synapse-configs/default/message-stores/mspDeactivateIfDeactivateSeqFailsMessageStore.xml
new file mode 100644
index 000000000..2cc205d4d
--- /dev/null
+++ b/integration/mediation-tests/tests-mediator-2/src/test/resources/artifacts/ESB/server/repository/deployment/server/synapse-configs/default/message-stores/mspDeactivateIfDeactivateSeqFailsMessageStore.xml
@@ -0,0 +1,2 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<messageStore xmlns="http://ws.apache.org/ns/synapse" name="mspDeactivateIfDeactivateSeqFailsMessageStore"/>
diff --git a/integration/mediation-tests/tests-mediator-2/src/test/resources/artifacts/ESB/server/repository/deployment/server/synapse-configs/default/proxy-services/mspDeactivateIfDeactivateSeqFailsProxy.xml b/integration/mediation-tests/tests-mediator-2/src/test/resources/artifacts/ESB/server/repository/deployment/server/synapse-configs/default/proxy-services/mspDeactivateIfDeactivateSeqFailsProxy.xml
new file mode 100644
index 000000000..11e0d514a
--- /dev/null
+++ b/integration/mediation-tests/tests-mediator-2/src/test/resources/artifacts/ESB/server/repository/deployment/server/synapse-configs/default/proxy-services/mspDeactivateIfDeactivateSeqFailsProxy.xml
@@ -0,0 +1,15 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<proxy xmlns="http://ws.apache.org/ns/synapse" name="mspDeactivateIfDeactivateSeqFailsProxy" startOnLoad="true" statistics="disable" trace="disable" transports="http,https">
+    <target>
+        <inSequence>
+            <log level="full"/>
+            <property name="FORCE_SC_ACCEPTED" scope="axis2" type="STRING" value="true"/>
+            <property name="OUT_ONLY" scope="default" type="STRING" value="true"/>
+            <store messageStore="mspDeactivateIfDeactivateSeqFailsMessageStore"/>
+        </inSequence>
+        <outSequence>
+            <send/>
+        </outSequence>
+    </target>
+    <description/>
+</proxy>
diff --git a/integration/mediation-tests/tests-mediator-2/src/test/resources/artifacts/ESB/server/repository/deployment/server/synapse-configs/default/sequences/MasterReplySeq.xml b/integration/mediation-tests/tests-mediator-2/src/test/resources/artifacts/ESB/server/repository/deployment/server/synapse-configs/default/sequences/MasterReplySeq.xml
new file mode 100644
index 000000000..06e184fdb
--- /dev/null
+++ b/integration/mediation-tests/tests-mediator-2/src/test/resources/artifacts/ESB/server/repository/deployment/server/synapse-configs/default/sequences/MasterReplySeq.xml
@@ -0,0 +1,4 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<sequence name="MasterReplySeq" trace="disable" xmlns="http://ws.apache.org/ns/synapse">
+    <log level="full" />
+</sequence>
diff --git a/integration/mediation-tests/tests-mediator-2/src/test/resources/artifacts/ESB/server/repository/deployment/server/synapse-configs/default/sequences/MessageProcessorDeactivateSeq.xml b/integration/mediation-tests/tests-mediator-2/src/test/resources/artifacts/ESB/server/repository/deployment/server/synapse-configs/default/sequences/MessageProcessorDeactivateSeq.xml
new file mode 100644
index 000000000..c08a0d4b6
--- /dev/null
+++ b/integration/mediation-tests/tests-mediator-2/src/test/resources/artifacts/ESB/server/repository/deployment/server/synapse-configs/default/sequences/MessageProcessorDeactivateSeq.xml
@@ -0,0 +1,11 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<sequence name="MessageProcessorDeactivateSeq" trace="disable" xmlns="http://ws.apache.org/ns/synapse">
+    <log description="LogFault:Begin">
+        <property name="==========In Master Processor Deactivate Sequence ==========" value="Begin Part Master Deactivate Branch "/>
+    </log>
+    <call>
+      <endpoint>
+         <address uri="mailto:example@wso2.com"/>
+      </endpoint>
+    </call>
+</sequence>
diff --git a/integration/mediation-tests/tests-mediator-2/src/test/resources/testng.xml b/integration/mediation-tests/tests-mediator-2/src/test/resources/testng.xml
index ce5a756e9..315a45263 100644
--- a/integration/mediation-tests/tests-mediator-2/src/test/resources/testng.xml
+++ b/integration/mediation-tests/tests-mediator-2/src/test/resources/testng.xml
@@ -111,6 +111,7 @@
                     <exclude name=".*"/>
                 </methods>
             </class>
+            <class name="org.wso2.carbon.esb.message.processor.test.MessageProcessorWithFaultDeactivateSeqTestCase"/>
         </classes>
     </test>
 
